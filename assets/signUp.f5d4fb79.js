import{a as P,b as E,_ as F}from"./index.vue.c0eb1f0f.js";import{d as h,E as B,c as n,r as Z,t as y,v as w,x as N,z as s,A as C,F as l,J as v,m as H,K as R,s as I,y as q,I as z,L,G as D}from"./entry.079b131c.js";import{u as T}from"./vue.f36acd1f.c08481f8.js";const $={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,korean:/^[가-힣]{2,}$/,english:/^[a-zA-Z]{3,}$/,disallowedCharacters:/[^\w가-힣]/,phoneNumber:/^0\d{2,3}[ -]?\d{3,4}[ -]?\d{4}$/,cardNumber:/^(?:\d{4}\s?){4}$/},W={class:"section"},j=h({__name:"Account",emits:["next"],setup(A,{emit:U}){const t=B(),m=n({get(){return t.getAccountInfo.email},set(e){t.setAccountEmail(e)}}),o=n({get(){return t.getAccountInfo.password},set(e){t.setAccountPassword(e)}}),d=Z(""),p=n(()=>$.email.test(m.value)),f=n(()=>$.password.test(o.value)),_=n(()=>o.value===d.value),x=n(()=>p.value&&f.value&&_.value),g=U,a=e=>{e.preventDefault(),x.value&&g("next")};return(e,u)=>{const c=P,i=E,r=F;return y(),w("div",W,[N("form",{class:"flex flex-col gap-3",onSubmit:a},[s(i,{label:"이메일",error:l(p)?"":"올바른 이메일 주소를 입력해주세요."},{default:C(()=>[s(c,{modelValue:l(m),"onUpdate:modelValue":u[0]||(u[0]=b=>v(m)?m.value=b:null),type:"email",placeholder:"dev.glennn@gmail.com"},null,8,["modelValue"])]),_:1},8,["error"]),s(i,{label:"비밀번호",error:l(f)?"":"영문 대문자, 소문자, 숫자, 특수문자가 포함된 8자리 이상의 문자열을 입력해주세요."},{default:C(()=>[s(c,{modelValue:l(o),"onUpdate:modelValue":u[1]||(u[1]=b=>v(o)?o.value=b:null),type:"password",placeholder:"8자 이상의 영문 대소문자, 숫자, 특수문자의 조합"},null,8,["modelValue"])]),_:1},8,["error"]),s(i,{label:"비밀번호 확인",error:l(_)?"":"비밀번호와 일치하지 않습니다."},{default:C(()=>[s(c,{modelValue:l(d),"onUpdate:modelValue":u[2]||(u[2]=b=>v(d)?d.value=b:null),type:"password",placeholder:"비밀번호 확인"},null,8,["modelValue"])]),_:1},8,["error"]),s(r,{class:"mt-10",type:"submit",text:"다음"})],32)])}}}),G={class:"section"},J={class:"flex items-center mb-2 gap-2"},K={class:"flex gap-4 mt-10"},M=h({__name:"UserInfo",emits:["prev","next"],setup(A,{emit:U}){const t=B(),m=H();T({script:[{src:m.public.daumURL}]});const o=n({get(){return t.getUserInfo.name},set(i){t.setUserName(i)}}),d=n({get(){return t.getUserInfo.phoneNumber},set(i){t.setUserPhoneNumber(i)}}),p=n(()=>t.getUserInfo.zonecode),f=n(()=>t.getUserInfo.address),_=n(()=>($.korean.test(o.value)||$.english.test(o.value))&&!$.disallowedCharacters.test(o.value)),x=n(()=>$.phoneNumber.test(d.value)),g=n(()=>!!p.value||!!f.value),a=n(()=>_.value&&x.value&&f.value),e=U,u=()=>{new daum.Postcode({oncomplete:function(i){t.setUserZoneCode(i.zonecode),t.setUserAddress(i.address)}}).open()},c=i=>{i.preventDefault(),a.value&&e("next")};return(i,r)=>{const b=P,k=E,S=F;return y(),w("div",G,[N("form",{class:"flex flex-col gap-3",onSubmit:c},[s(k,{label:"이름",error:l(_)?"":"2글자 이상의 한글 완성형, 또는 3글자 이상의 영문 알파벳을 입력해주세요."},{default:C(()=>[s(b,{modelValue:l(o),"onUpdate:modelValue":r[0]||(r[0]=V=>v(o)?o.value=V:null),placeholder:"2글자 이상의 한글, 또는 3글자 이상의 영문 이름"},null,8,["modelValue"])]),_:1},8,["error"]),s(k,{label:"연락처",error:l(x)?"":"올바른 휴대폰번호를 입력해주세요."},{default:C(()=>[s(b,{modelValue:l(d),"onUpdate:modelValue":r[1]||(r[1]=V=>v(d)?d.value=V:null),placeholder:"ex) 010-0000-0000"},null,8,["modelValue"])]),_:1},8,["error"]),s(k,{label:"주소",error:l(g)?"":"우편번호 및 주소를 확인해주세요."},{default:C(()=>[N("div",J,[s(b,{modelValue:l(p),"onUpdate:modelValue":r[2]||(r[2]=V=>v(p)?p.value=V:null),placeholder:"우편번호",readonly:""},null,8,["modelValue"]),s(S,{text:"우편번호",class:"shrink-0",onClick:u})]),s(b,{modelValue:l(f),"onUpdate:modelValue":r[3]||(r[3]=V=>v(f)?f.value=V:null),placeholder:"주소",readonly:""},null,8,["modelValue"])]),_:1},8,["error"]),N("div",K,[s(S,{type:"button",text:"이전",class:"flex-1",onClick:r[4]||(r[4]=V=>i.$emit("prev"))}),s(S,{type:"submit",text:"다음",class:"flex-1"})])],32)])}}}),O={class:"section"},Q={class:"flex gap-2 items-center"},X={class:"flex gap-4 mt-10"},Y=h({__name:"CardInfo",emits:["prev","next"],setup(A,{emit:U}){const t=B(),m=n({get(){return t.getCardNumber.number1},set(a){t.setCardNumber1(a)}}),o=n({get(){return t.getCardNumber.number2},set(a){t.setCardNumber2(a)}}),d=n({get(){return t.getCardNumber.number3},set(a){t.setCardNumber3(a)}}),p=n({get(){return t.getCardNumber.number4},set(a){t.setCardNumber4(a)}}),f=n(()=>[m.value,o.value,d.value,p.value].join(" ")),_=n(()=>{if(!$.cardNumber.test(f.value))return!1;const a=f.value.replace(/\s/g,"").split("").map(Number);let e=0;for(let u=a.length-1;u>=0;u--){let c=a[u];u%2===0&&(c*=2,c>=9&&(c=Math.floor(c/10)+c%10)),e+=c}return e%10===0}),x=U,g=a=>{a.preventDefault(),_.value&&x("next")};return(a,e)=>{const u=P,c=E,i=F;return y(),w("div",O,[N("form",{class:"flex flex-col gap-3",onSubmit:g},[s(c,{label:"카드번호",error:l(_)?"":"유효하지 않은 카드번호 입니다."},{default:C(()=>[N("div",Q,[s(u,{modelValue:l(m),"onUpdate:modelValue":e[0]||(e[0]=r=>v(m)?m.value=r:null),maxLength:"4"},null,8,["modelValue"]),s(u,{modelValue:l(o),"onUpdate:modelValue":e[1]||(e[1]=r=>v(o)?o.value=r:null),maxLength:"4"},null,8,["modelValue"]),s(u,{modelValue:l(d),"onUpdate:modelValue":e[2]||(e[2]=r=>v(d)?d.value=r:null),maxLength:"4"},null,8,["modelValue"]),s(u,{modelValue:l(p),"onUpdate:modelValue":e[3]||(e[3]=r=>v(p)?p.value=r:null),maxLength:"4"},null,8,["modelValue"])])]),_:1},8,["error"]),N("div",X,[s(i,{type:"button",text:"이전",class:"flex-1",onClick:e[4]||(e[4]=r=>a.$emit("prev"))}),s(i,{type:"submit",text:"완료",class:"flex-1"})])],32)])}}}),ee={class:"text-xl mb-5 sm:mb-10"},oe=h({__name:"signUp",setup(A){const U=R(),t=n(()=>U.query.type),m=[{id:"account",title:"개인정보 입력"},{id:"userInfo",title:"배송지 정보 입력"},{id:"cardInfo",title:"결제정보 입력"}],o=m.map(e=>e.id);(typeof t.value!="string"||!o.includes(t.value))&&I({query:{type:o[0]}});const d=n(()=>{const e=o.findIndex(u=>u===t.value);return e===-1?0:e}),p=n(()=>`0${d.value+1}. ${m[d.value].title}`),f=n(()=>{let e=d.value+1;return e>=m.length-1?m.length-1:e}),_=n(()=>{let e=d.value-1;return e<=0?0:e}),x=n(()=>d.value>=m.length-1),g=()=>x.value?I({path:"/"}):I({query:{type:m[f.value].id}}),a=()=>I({query:{type:m[_.value].id}});return(e,u)=>{const c=j,i=M,r=Y;return y(),w(D,null,[N("p",ee,q(l(p)),1),l(t)===l(o)[0]?(y(),z(c,{key:0,onNext:g})):L("",!0),l(t)===l(o)[1]?(y(),z(i,{key:1,onPrev:a,onNext:g})):L("",!0),l(t)===l(o)[2]?(y(),z(r,{key:2,onPrev:a,onNext:g})):L("",!0)],64)}}});export{oe as default};
