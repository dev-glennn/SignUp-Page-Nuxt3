import{_ as P,a as B}from"./InputWithErrorLabel.vue.2a21e6f3.js";import{d as C,t as N,v as I,y as H,E,c as n,r as Z,x as U,z as r,A as $,H as o,J as v,m as R,K as q,s as w,I as z,L,F as D}from"./entry.630bccec.js";import{u as T}from"./vue.f36acd1f.2c425aa1.js";const F=C({__name:"index",props:{text:{default:"Button"}},emits:["click"],setup(k){return(g,t)=>(N(),I("button",{class:"button text-gray-900 bg-gray border border-gray-300 focus:outline-none hover:bg-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 bg-gray-800 text-white border-gray-600 hover:bg-gray-700 hover:border-gray-600",onClick:t[0]||(t[0]=a=>g.$emit("click",a))},H(g.text),1))}}),h={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,korean:/^[가-힣]{2,}$/,english:/^[a-zA-Z]{3,}$/,disallowedCharacters:/[^\w가-힣]/,phoneNumber:/^0\d{2,3}[ -]?\d{3,4}[ -]?\d{4}$/,cardNumber:/^(?:\d{4}\s?){4}$/},W={class:"section"},j=C({__name:"Account",emits:["next"],setup(k,{emit:g}){const t=E(),a=n({get(){return t.getAccountInfo.email},set(e){t.setAccountEmail(e)}}),l=n({get(){return t.getAccountInfo.password},set(e){t.setAccountPassword(e)}}),m=Z(""),p=n(()=>h.email.test(a.value)),f=n(()=>h.password.test(l.value)),_=n(()=>l.value===m.value),V=n(()=>p.value&&f.value&&_.value),x=g,u=e=>{e.preventDefault(),V.value&&x("next")};return(e,d)=>{const c=P,i=B,s=F;return N(),I("div",W,[U("form",{class:"flex flex-col gap-3",onSubmit:u},[r(i,{label:"이메일",error:o(p)?"":"올바른 이메일 주소를 입력해주세요."},{default:$(()=>[r(c,{modelValue:o(a),"onUpdate:modelValue":d[0]||(d[0]=b=>v(a)?a.value=b:null),type:"email",placeholder:"dev.glennn@gmail.com"},null,8,["modelValue"])]),_:1},8,["error"]),r(i,{label:"비밀번호",error:o(f)?"":"영문 대문자, 소문자, 숫자, 특수문자가 포함된 8자리 이상의 문자열을 입력해주세요."},{default:$(()=>[r(c,{modelValue:o(l),"onUpdate:modelValue":d[1]||(d[1]=b=>v(l)?l.value=b:null),type:"password",placeholder:"8자 이상의 영문 대소문자, 숫자, 특수문자의 조합"},null,8,["modelValue"])]),_:1},8,["error"]),r(i,{label:"비밀번호 확인",error:o(_)?"":"비밀번호와 일치하지 않습니다."},{default:$(()=>[r(c,{modelValue:o(m),"onUpdate:modelValue":d[2]||(d[2]=b=>v(m)?m.value=b:null),type:"password",placeholder:"비밀번호 확인"},null,8,["modelValue"])]),_:1},8,["error"]),r(s,{class:"mt-10",type:"submit",text:"다음"})],32)])}}}),J={class:"section"},K={class:"flex items-center mb-2 gap-2"},M={class:"flex gap-4 mt-10"},O=C({__name:"UserInfo",emits:["prev","next"],setup(k,{emit:g}){const t=E(),a=R();T({script:[{src:a.public.daumURL}]});const l=n({get(){return t.getUserInfo.name},set(i){t.setUserName(i)}}),m=n({get(){return t.getUserInfo.phoneNumber},set(i){t.setUserPhoneNumber(i)}}),p=n(()=>t.getUserInfo.zonecode),f=n(()=>t.getUserInfo.address),_=n(()=>(h.korean.test(l.value)||h.english.test(l.value))&&!h.disallowedCharacters.test(l.value)),V=n(()=>h.phoneNumber.test(m.value)),x=n(()=>!!p.value||!!f.value),u=n(()=>_.value&&V.value&&f.value),e=g,d=()=>{new daum.Postcode({oncomplete:function(i){t.setUserZoneCode(i.zonecode),t.setUserAddress(i.address)}}).open()},c=i=>{i.preventDefault(),u.value&&e("next")};return(i,s)=>{const b=P,A=B,S=F;return N(),I("div",J,[U("form",{class:"flex flex-col gap-3",onSubmit:c},[r(A,{label:"이름",error:o(_)?"":"2글자 이상의 한글 완성형, 또는 3글자 이상의 영문 알파벳을 입력해주세요."},{default:$(()=>[r(b,{modelValue:o(l),"onUpdate:modelValue":s[0]||(s[0]=y=>v(l)?l.value=y:null),placeholder:"2글자 이상의 한글, 또는 3글자 이상의 영문 이름"},null,8,["modelValue"])]),_:1},8,["error"]),r(A,{label:"연락처",error:o(V)?"":"올바른 휴대폰번호를 입력해주세요."},{default:$(()=>[r(b,{modelValue:o(m),"onUpdate:modelValue":s[1]||(s[1]=y=>v(m)?m.value=y:null),placeholder:"ex) 010-0000-0000"},null,8,["modelValue"])]),_:1},8,["error"]),r(A,{label:"주소",error:o(x)?"":"우편번호 및 주소를 확인해주세요."},{default:$(()=>[U("div",K,[r(b,{modelValue:o(p),"onUpdate:modelValue":s[2]||(s[2]=y=>v(p)?p.value=y:null),placeholder:"우편번호",readonly:""},null,8,["modelValue"]),r(S,{text:"우편번호",class:"shrink-0",onClick:d})]),r(b,{modelValue:o(f),"onUpdate:modelValue":s[3]||(s[3]=y=>v(f)?f.value=y:null),placeholder:"주소",readonly:""},null,8,["modelValue"])]),_:1},8,["error"]),U("div",M,[r(S,{type:"button",text:"이전",class:"flex-1",onClick:s[4]||(s[4]=y=>i.$emit("prev"))}),r(S,{type:"submit",text:"다음",class:"flex-1"})])],32)])}}}),G={class:"section"},Q={class:"flex gap-2 items-center"},X={class:"flex gap-4 mt-10"},Y=C({__name:"CardInfo",emits:["prev","next"],setup(k,{emit:g}){const t=E(),a=n({get(){return t.getCardNumber.number1},set(u){t.setCardNumber1(u)}}),l=n({get(){return t.getCardNumber.number2},set(u){t.setCardNumber2(u)}}),m=n({get(){return t.getCardNumber.number3},set(u){t.setCardNumber3(u)}}),p=n({get(){return t.getCardNumber.number4},set(u){t.setCardNumber4(u)}}),f=n(()=>[a.value,l.value,m.value,p.value].join(" ")),_=n(()=>{if(!h.cardNumber.test(f.value))return!1;const u=f.value.replace(/\s/g,"").split("").map(Number);let e=0;for(let d=u.length-1;d>=0;d--){let c=u[d];d%2===0&&(c*=2,c>=9&&(c=Math.floor(c/10)+c%10)),e+=c}return e%10===0}),V=g,x=u=>{u.preventDefault(),_.value&&V("next")};return(u,e)=>{const d=P,c=B,i=F;return N(),I("div",G,[U("form",{class:"flex flex-col gap-3",onSubmit:x},[r(c,{label:"카드번호",error:o(_)?"":"유효하지 않은 카드번호 입니다."},{default:$(()=>[U("div",Q,[r(d,{modelValue:o(a),"onUpdate:modelValue":e[0]||(e[0]=s=>v(a)?a.value=s:null),maxLength:"4"},null,8,["modelValue"]),r(d,{modelValue:o(l),"onUpdate:modelValue":e[1]||(e[1]=s=>v(l)?l.value=s:null),maxLength:"4"},null,8,["modelValue"]),r(d,{modelValue:o(m),"onUpdate:modelValue":e[2]||(e[2]=s=>v(m)?m.value=s:null),maxLength:"4"},null,8,["modelValue"]),r(d,{modelValue:o(p),"onUpdate:modelValue":e[3]||(e[3]=s=>v(p)?p.value=s:null),maxLength:"4"},null,8,["modelValue"])])]),_:1},8,["error"]),U("div",X,[r(i,{type:"button",text:"이전",class:"flex-1",onClick:e[4]||(e[4]=s=>u.$emit("prev"))}),r(i,{type:"submit",text:"완료",class:"flex-1"})])],32)])}}}),ee={class:"text-xl mb-10"},le=C({__name:"signUp",setup(k){const g=q(),t=n(()=>g.query.type),a=[{id:"account",title:"개인정보 입력"},{id:"userInfo",title:"배송지 정보 입력"},{id:"cardInfo",title:"결제정보 입력"}],l=a.map(e=>e.id);(typeof t.value!="string"||!l.includes(t.value))&&w({path:"/signUp",query:{type:l[0]}});const m=n(()=>{const e=l.findIndex(d=>d===t.value);return e===-1?0:e}),p=n(()=>`0${m.value+1}. ${a[m.value].title}`),f=n(()=>{let e=m.value+1;return e>=a.length-1?a.length-1:e}),_=n(()=>{let e=m.value-1;return e<=0?0:e}),V=n(()=>m.value>=a.length-1),x=()=>V.value?w({path:"/"}):w({path:"/signUp",query:{type:a[f.value].id}}),u=()=>w({path:"/signUp",query:{type:a[_.value].id}});return(e,d)=>{const c=j,i=O,s=Y;return N(),I(D,null,[U("p",ee,H(o(p)),1),o(t)===o(l)[0]?(N(),z(c,{key:0,onNext:x})):L("",!0),o(t)===o(l)[1]?(N(),z(i,{key:1,onPrev:u,onNext:x})):L("",!0),o(t)===o(l)[2]?(N(),z(s,{key:2,onPrev:u,onNext:x})):L("",!0)],64)}}});export{le as default};
